module.exports = {
  root: true,
  parserOptions: { project: ['./tsconfig.json'] },
  parser: '@typescript-eslint/parser',
  plugins: [
    '@typescript-eslint',
    'solid',
    'unicorn',
    'import',
    'unused-imports',
    'prettier',
    'write-good-comments',
    'sonarjs',
    'promise',
    'no-secrets',
  ],
  extends: [
    'plugin:@typescript-eslint/eslint-recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:import/typescript',
    'plugin:prettier/recommended',
    'plugin:sonarjs/recommended',
    'plugin:promise/recommended',
  ],
  env: {
    jest: true,
  },
  ignorePatterns: ['.eslintrc.js'],
  rules: {
    'prettier/prettier': [
      2,
      {
        printWidth: 100,
        semi: true,
        singleQuote: true,
        quoteProps: 'as-needed',
        tabWidth: 2,
        jsxSingleQuote: false,
        trailingComma: 'all',
        bracketSpacing: true,
        bracketSameLine: false,
        arrowParens: 'always',
        htmlWhitespaceSensitivity: 'css',
        endOfLine: 'lf',
        embeddedLanguageFormatting: 'auto',
        useTabs: false,
      },
    ],
    'no-unused-vars': 'off',
    '@typescript-eslint/no-unused-vars': 'off',
    'unused-imports/no-unused-imports': 2,
    'unused-imports/no-unused-vars': [
      2,
      {
        vars: 'all',
        varsIgnorePattern: '^_',
        args: 'all',
        argsIgnorePattern: '^_',
      },
    ],
    'no-console': 2,

    /**
     * The list of @typescript-eslint rules can be found at:
     * https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin
     */

    '@typescript-eslint/no-non-null-assertion': 2,
    'no-return-await': 2,

    // Require typechecking
    '@typescript-eslint/await-thenable': 2,
    '@typescript-eslint/no-floating-promises': 2,
    '@typescript-eslint/no-misused-promises': 2,
    '@typescript-eslint/no-unnecessary-type-assertion': 2,
    'require-await': 0,
    '@typescript-eslint/require-await': 2,
    '@typescript-eslint/restrict-plus-operands': 2,

    // Advanced
    'no-constant-condition': [2, { checkLoops: false }],

    // Unicorn
    'unicorn/prefer-array-flat-map': 2,
    'unicorn/prefer-array-flat': 2,
    'unicorn/prefer-array-find': 2,
    'unicorn/prefer-array-index-of': 2,
    'unicorn/prefer-array-some': 2,
    'unicorn/prefer-includes': 2,
    'unicorn/throw-new-error': 2,
    'unicorn/text-encoding-identifier-case': 2,
    'unicorn/template-indent': 2,
    'unicorn/require-post-message-target-origin': 2,
    'unicorn/require-number-to-fixed-digits-argument': 2,
    'unicorn/require-array-join-separator': 2,
    'unicorn/prefer-type-error': 2,
    'unicorn/prefer-ternary': 2,
    'unicorn/prefer-switch': 2,
    'unicorn/prefer-string-trim-start-end': 2,
    'unicorn/prefer-string-starts-ends-with': 2,
    'unicorn/prefer-string-slice': 2,
    'unicorn/prefer-string-replace-all': 2,
    'unicorn/prefer-spread': 2,
    'unicorn/prefer-set-has': 2,
    'unicorn/prefer-regexp-test': 2,
    'unicorn/prefer-reflect-apply': 2,
    'unicorn/prefer-query-selector': 2,
    'unicorn/prefer-prototype-methods': 2,
    'unicorn/prefer-optional-catch-binding': 2,
    'unicorn/prefer-object-from-entries': 2,
    'unicorn/prefer-number-properties': 2,
    'unicorn/prefer-negative-index': 2,
    'unicorn/prefer-native-coercion-functions': 2,
    'unicorn/prefer-module': 2,
    'unicorn/prefer-modern-math-apis': 2,
    'unicorn/prefer-modern-dom-apis': 2,
    'unicorn/prefer-math-trunc': 2,
    'unicorn/prefer-keyboard-event-key': 2,
    'unicorn/prefer-json-parse-buffer': 2,
    'unicorn/prefer-includes': 2,
    'unicorn/prefer-export-from': 2,
    'unicorn/prefer-dom-node-text-content': 2,
    'unicorn/prefer-dom-node-remove': 2,
    'unicorn/prefer-dom-node-dataset': 2,
    'unicorn/prefer-dom-node-append': 2,
    'unicorn/prefer-default-parameters': 2,
    'unicorn/prefer-date-now': 2,
    'unicorn/prefer-code-point': 2,
    'unicorn/prefer-at': 2,
    'unicorn/prefer-array-some': 2,
    'unicorn/prefer-array-index-of': 2,
    'unicorn/prefer-array-flat-map': 2,
    'unicorn/prefer-array-flat': 2,
    'unicorn/prefer-array-find': 2,
    'unicorn/numeric-separators-style': 2,
    'unicorn/number-literal-case': 2,
    'unicorn/no-zero-fractions': 2,
    'unicorn/no-useless-undefined': 2,
    'unicorn/no-useless-switch-case': 2,
    'unicorn/no-useless-spread': 2,
    'unicorn/no-useless-promise-resolve-reject': 2,
    'unicorn/no-useless-length-check': 2,
    'unicorn/no-unused-properties': 2,
    'unicorn/no-unsafe-regex': 2,
    'unicorn/no-static-only-class': 2,
    'unicorn/no-process-exit': 2,
    'unicorn/no-new-buffer': 2,
    'unicorn/no-new-array': 2,
    'unicorn/no-nested-ternary': 2,
    'unicorn/no-lonely-if': 2,
    'unicorn/no-keyword-prefix': 2,
    'unicorn/no-instanceof-array': 2,
    'unicorn/no-for-loop': 2,
    'unicorn/no-empty-file': 2,
    'unicorn/no-document-cookie': 2,
    'unicorn/no-array-push-push': 2,
    'unicorn/empty-brace-spaces': 2,
    'unicorn/consistent-destructuring': 2,
    'unicorn/catch-error-name': 2,
    'unicorn/better-regex': 2,
    'unicorn/no-invalid-remove-event-listener': 2,
    'unicorn/no-hex-escape': 2,
    'unicorn/no-console-spaces': 2,
    'unicorn/no-array-method-this-argument': 2,
    'unicorn/new-for-builtins': 2,
    'unicorn/explicit-length-check': 2,
    'unicorn/expiring-todo-comments': 2,
    'unicorn/escape-case': 2,
    'unicorn/error-message': 2,
    'unicorn/import-style': 2,
    'unicorn/no-object-as-default-parameter': 2,
    'unicorn/no-this-assignment': 2,
    'unicorn/no-unreadable-array-destructuring': 2,
    'unicorn/no-unreadable-iife': 2,
    'unicorn/no-useless-fallback-in-spread': 2,
    'unicorn/prefer-add-event-listener': 2,
    'unicorn/prefer-top-level-await': 2,
    'unicorn/prevent-abbreviations': [
      2,
      {
        allowList: {
          props: true,
          Props: true,
          args: true,
        },
      },
    ],
    'unicorn/relative-url-style': 2,

    // Import
    'import/no-self-import': 2,
    'import/no-useless-path-segments': 2,
    'import/export': 2,
    'import/first': 2,
    'import/newline-after-import': 2,
    'import/order': [
      2,
      {
        'newlines-between': 'always',
        groups: ['builtin', 'external', 'internal', ['parent', 'sibling', 'index'], 'object'],
      },
    ],

    // solid
    'solid/components-return-once': 2,
    'solid/event-handlers': 2,
    'solid/jsx-no-duplicate-props': 2,
    'solid/jsx-no-script-url': 2,
    'solid/jsx-no-undef': 2,
    'solid/jsx-uses-vars': 2,
    'solid/no-destructure': 2,
    'solid/no-innerhtml': 2,
    'solid/no-react-specific-props': 2,
    'solid/no-unknown-namespaces': 2,
    'solid/prefer-classlist': 2,
    'solid/prefer-for': 2,
    'solid/prefer-show': 2,
    'solid/reactivity': 2,
    'solid/self-closing-comp': 2,
    'solid/style-prop': 2,

    // Others
    'write-good-comments/write-good-comments': 1,
    'no-secrets/no-secrets': 2,

    // remove rules
    'promise/always-return': 0,
  },
};
